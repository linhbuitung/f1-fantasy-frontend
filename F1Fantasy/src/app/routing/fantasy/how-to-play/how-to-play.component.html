<app-content-container>
  <div class="how-to-play">
    <div class="row gx-4 gy-4">
      <!-- Sidebar: clickable navigation (no router navigation) -->
      <aside class="col-lg-4 col-12">
        <nav class="card sticky-sidebar" aria-label="How to play navigation">
          <div class="card-header bg-primary-red text-white">
            How to play
          </div>
          <div class="card-body">
            <ul class="list-unstyled toc mb-0">
              <li (click)="selectSection('build')" [class.active]="selectedSection === 'build'">Build your team</li>
              <li (click)="selectSection('join')"  [class.active]="selectedSection === 'join'">Join a league</li>
              <li (click)="selectSection('transfers')" [class.active]="selectedSection === 'transfers'">Make transfers</li>
              <li (click)="selectSection('powerups')" [class.active]="selectedSection === 'powerups'">Use powerups</li>
              <li (click)="selectSection('race')" [class.active]="selectedSection === 'race'">Race day & scoring</li>
              <li (click)="selectSection('track')" [class.active]="selectedSection === 'track'">Track progress</li>
              <li (click)="selectSection('ai')" [class.active]="selectedSection === 'ai'">AI predictions</li>
            </ul>
          </div>
        </nav>
      </aside>

      <!-- Main content: show the clicked section -->
      <main class="col-lg-8 col-12">
        <article class="card">
          <div class="card-header">
            <div class="fw-bold">How to Play - Tips & Tricks</div>
          </div>

          <div class="card-body">
            <div *ngIf="selectedSection === 'build'">
              <h3>Team building</h3>
              <ul>
                <li>Balance stars with value picks - don’t spend all budget on one driver. Aim for 2 premium, 2 mid, 1 wildcard.</li>
                <li>Monitor driver price trends before buying; early momentum often increases price.</li>
                <li>Choose a captain each race based on weekend form (in practice!). Prefer captains who consistently finish races.</li>
              </ul>
              <div class="small text-muted">For exact limits and price rules see the <a [routerLink]="['/fantasy/rules']" fragment="team">Rules</a> page.</div>
            </div>

            <div *ngIf="selectedSection === 'join'">
              <h3>Leagues strategy</h3>
              <ul>
                <li>Join a mix of players in leagues to compete head-to-head strategy.</li>
                <li>In private leagues, mirror popular picks only when you need safe points, surprise picks can make a difference.</li>
                <li>Create private leagues to play with your friends.</li>
              </ul>
            </div>

            <div *ngIf="selectedSection === 'transfers'">
              <h3>Transfer tactics</h3>
              <ul>
                <li>Use your free transfers accordingly, not every race needs a transfer.</li>
                <li>When making multiple transfers, compare expected points vs penalty: sometimes a -10 is worth a +25 gain.</li>
                <li>Set transfers before the lock deadline; check practice results to spot breakout drivers.</li>
              </ul>
              <div class="small text-muted">Full penalty rules and locking times on the <a [routerLink]="['/fantasy/rules']" fragment="transfers">Rules</a> page.</div>
            </div>

            <div *ngIf="selectedSection === 'powerups'">
              <h3>Powerup usage</h3>
              <ul>
                <li>Save powerups for high-variance races (street circuits, weather) where outcomes are less predictable.</li>
                <li>Use "DRS Enabled" on a consistent, high-upside driver rather than a risky one.</li>
                <li>Combine Free Transfer Week with double-transfer rounds to reshuffle your squad safely.</li>
              </ul>
              <div class="small text-muted">See exact powerup mechanics on the <a [routerLink]="['/fantasy/rules']" fragment="powerups">Rules</a> page.</div>
            </div>

            <div *ngIf="selectedSection === 'race'">
              <h3>Race day decisions</h3>
              <ul>
                <li>Remember to confirm captain.</li>
                <li>Watch weather alerts: these can create huge swings and favour different drivers.</li>
                <li>When a driver DNFs, remember captain doubling applies to negative points - avoid risky captains.</li>
              </ul>
              <div class="small text-muted">Detailed scoring tables are on the <a [routerLink]="['/fantasy/rules']" fragment="scoring">Rules</a> page.</div>
            </div>

            <div *ngIf="selectedSection === 'track'">
              <h3>Tracking & analysis</h3>
              <ul>
                <li>Use the Status page to spot trending picks and team-of-the-week selections from last race, try to find underrated consistent drivers.</li>
                <li>Follow driver form over 3–5 races rather than single events to reduce variance in decisions.</li>
                <li>Check constructor pairings: two strong drivers scoring together boost constructor points significantly.</li>
              </ul>
            </div>

            <div *ngIf="selectedSection === 'ai'">
              <h3>AI & predictions</h3>
              <ul>
                <li>Use AI predictions as a secondary signal - combine with your research (weather, practice times).</li>
                <li>Earn AI uses by daily logins and use them strategically during injury or qualifying surprises.</li>
                <li>For each 3 days of consecutive login, you will receive a credit to use the AI.</li>
              </ul>
              <div class="small text-muted">AI rules and quotas on the <a [routerLink]="['/fantasy/rules']" fragment="ai">Rules</a> page.</div>
            </div>

            <p class="note mt-3">Note: These are all thought of the developers, so they won't be 100% correct.</p>
            <p class="note mt-3">Pro tip: plan transfers around the calendar - use powerups and transfers on big double-header events to maximize gains.</p>
          </div>
        </article>
      </main>
    </div>
  </div>
</app-content-container>
